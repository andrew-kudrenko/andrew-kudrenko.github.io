(this["webpackJsonpnews-aggregator-frontend"]=this["webpackJsonpnews-aggregator-frontend"]||[]).push([[0],{101:function(e,t,a){e.exports=a(121)},106:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),o=(a(106),a(107),a(14)),i=a(4),u=a(9),s=function(){return r.a.createElement(i.b,{size:"l",mode:"outline",style:{minWidth:"300px",maxWidth:"350px",margin:".5rem"}},r.a.createElement(i.c,null,r.a.createElement(i.z,{level:"3",weight:"medium",style:{marginBottom:".5rem"}},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement("img",{width:"100%",src:"https://www.prorobot.ru/gallery/foto/11110043546.jpg"}),r.a.createElement(i.g,{style:{marginBottom:".5rem"}},r.a.createElement(i.y,{weight:"regular"},"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit, laudantium laboriosam? Ab enim optio doloribus quasi possimus similique, commodi distinctio voluptas laboriosam consectetur esse nihil officiis fuga non, error eum! Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit, laudantium laboriosam? Ab enim optio doloribus quasi possimus similique, commodi distinctio voluptas laboriosam consectetur esse nihil officiis fuga non, error eum!"),r.a.createElement(i.y,{weight:"medium"},"\u0411\u0435\u043b\u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0411\u0435\u043b\u0433\u043e\u0440\u043e\u0434")),r.a.createElement(i.a,{mode:"secondary",size:"xl"},"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")))},d=Object(u.b)()((function(){var e=Object(u.d)((function(e){return e.news}));e.data,e.error,e.loading;return r.a.createElement("div",{style:{margin:"0 auto",maxWidth:"1200px",display:"flex",justifyContent:"center",flexWrap:"wrap"}},r.a.createElement(s,null),r.a.createElement(s,null),r.a.createElement(s,null),r.a.createElement(s,null),r.a.createElement(s,null),r.a.createElement(s,null))})),E=[{title:"\u041b\u0435\u043d\u0442\u0430",id:"feed"},{title:"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b",id:"sources"},{title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",id:"favorites"},{title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",id:"profile"}],m=function(e){var t=e.activeTab,a=e.setActiveTab;return r.a.createElement(i.d,{vertical:"top"},r.a.createElement(i.t,{wide:!0}),r.a.createElement(i.w,null,r.a.createElement(i.i,null,E.map((function(e){return r.a.createElement(i.x,{selected:t===e.id,onClick:a.bind(null,e.id),key:e.id},e.title)})))))},p=function(e){return r.a.createElement(i.n,e,r.a.createElement(i.o,null,r.a.createElement(m,e)),r.a.createElement(i.c,{style:{margin:"0 auto",maxWidth:"1200px"}},e.children))},O=a(123),f=a(15),b=a.n(f),g=a(23),h="http://195.2.85.245",y=function(e){var t=e.title,a=e.city,n=e.date,l=e.region,c=e.source,o=e.category;return r.a.createElement(i.b,{size:"l",mode:"outline",style:{minWidth:"300px",maxWidth:"350px",margin:".5rem",zIndex:-1}},r.a.createElement(i.c,null,r.a.createElement(i.h,null,t),r.a.createElement(i.t,null),(l||a)&&r.a.createElement(i.g,null,l&&r.a.createElement(i.u,null,"\u0420\u0435\u0433\u0438\u043e\u043d: ",l.title),a&&r.a.createElement(i.u,null,"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442: ",a.title)),c&&r.a.createElement(i.u,null,"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a: ",c),n&&r.a.createElement(i.u,null,"\u0414\u0430\u0442\u0430: ",n.toLocaleDateString()),o&&r.a.createElement(i.u,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: ",o.name),r.a.createElement(i.a,{mode:"secondary",size:"xl"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e")))},v=a(122),j=function(e){var t=e.modal,a=void 0===t?null:t,l=e.setModal,c=Object(u.c)(),s=Object(u.d)((function(e){return e.regions})),d=s.data,E=(s.loading,s.error,Object(u.d)((function(e){return e.cities}))),m=E.data,p=(E.loading,E.error,Object(u.d)((function(e){return e.categories}))),O=p.data,f=(p.loading,p.error,Object(n.useState)("")),b=Object(o.a)(f,2),g=b[0],h=b[1],y=Object(n.useState)(),j=Object(o.a)(y,2),S=j[0],R=j[1],T=Object(n.useState)(),I=Object(o.a)(T,2),w=I[0],A=I[1],G=Object(n.useState)("VK"),C=Object(o.a)(G,2),L=C[0],x=C[1],N=Object(n.useState)(new Date),D=Object(o.a)(N,2),k=D[0],F=(D[1],Object(n.useState)(new Date)),W=Object(o.a)(F,2),z=(W[0],W[1],Object(n.useState)()),H=Object(o.a)(z,2),B=H[0],q=H[1],M=(Object(i.B)(),function(e){return function(t){return e(t.target.value)}}),K=Boolean(g);return r.a.createElement(i.m,{activeModal:a},r.a.createElement(i.k,{id:"filters",header:r.a.createElement(i.l,{left:r.a.createElement(i.p,{onClick:l.bind(null,null)},r.a.createElement(v.a,null)),right:r.a.createElement(i.p,{onClick:function(){c({type:"CREATE-FILTER",payload:{title:g,category:B,city:w,date:k,region:S,source:L}}),l(null)},disabled:!K},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"),onClose:l.bind(null,null)},r.a.createElement(i.e,null,r.a.createElement(i.j,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043b\u0435\u043d\u0442\u044b",value:g,onChange:M(h)}),r.a.createElement(i.f,{top:"\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f"},r.a.createElement(i.s,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u0433\u0438\u043e\u043d",onChange:M(R)},d.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title)}))),r.a.createElement(i.s,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",disabled:!S,onChange:M(A)},m.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title)})))),r.a.createElement(i.s,{top:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",onChange:M(x)},r.a.createElement("option",{value:L},L)),r.a.createElement(i.f,{top:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"},r.a.createElement(i.j,{type:"date",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443"}),r.a.createElement(i.j,{type:"time",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f"})),r.a.createElement(i.s,{top:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430",onChange:M(q)},O.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))))},S=function(){var e=Object(u.c)(),t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(u.d)((function(e){return e.filters})),d=s.data,E=(s.error,s.loading);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{modal:l,setModal:c}),E?r.a.createElement(i.v,{size:"large"}):d.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"}},r.a.createElement(i.a,{size:"l",onClick:c.bind(null,"filters")},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u0435\u043d\u0442\u0443")),r.a.createElement(i.r,{isFetching:E,onRefresh:e.bind(null,function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"SET-FILTERS-LOADING",payload:!0}),t({type:"SET-FILTERS-LOADING-ERROR",payload:null}),e.next=5,fetch("".concat(h,"/filters"));case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,t({type:"FETCH-FILTERS",payload:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"SET-FILTERS-LOADING-ERROR",payload:e.t0.message});case 15:return e.prev=15,t({type:"SET-FILTERS-LOADING",payload:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t){return e.apply(this,arguments)}}())},r.a.createElement(i.g,null,d.map((function(e){return r.a.createElement(y,e)}))))):r.a.createElement(i.q,{icon:r.a.createElement(O.a,null),header:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043b\u0435\u043d\u0442\u044b",action:r.a.createElement(i.a,{size:"l",onClick:c.bind(null,"filters")},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043b\u0435\u043d\u0442\u0443")},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043d\u0430\u0431\u043e\u0440 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u0438"))},R=a(18),T=a.n(R),I=Object(u.b)()((function(){var e=Object(u.d)((function(e){return e.news}));e.data,e.error,e.loading;return r.a.createElement("div",{style:{margin:"0 auto",maxWidth:"1200px",display:"flex",justifyContent:"center",flexWrap:"wrap"}},r.a.createElement(s,null),r.a.createElement(s,null),r.a.createElement(s,null),r.a.createElement(s,null),r.a.createElement(s,null),r.a.createElement(s,null))})),w=function(){var e=Object(n.useState)("feed"),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(u.c)(),s=null;switch(a){case"feed":s=r.a.createElement(d,null);break;case"sources":s=r.a.createElement(S,null);break;case"favorites":s=r.a.createElement(I,null)}return Object(n.useEffect)((function(){T.a.send("VKWebAppInit").then((function(){return T.a.send("VKWebAppGetPersonalCard")})).then((function(e){return console.log(e)})).catch(console.log)})),Object(n.useEffect)((function(){c(function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"SET-CATEGORIES-LOADING",payload:!0}),t({type:"SET-CATEGORIES-LOADING-ERROR",payload:null}),e.next=5,fetch("".concat(h,"/categories"));case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,t({type:"FETCH-CATEGORIES",payload:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"SET-CATEGORIES-LOADING-ERROR",payload:e.t0.message});case 15:return e.prev=15,t({type:"SET-CATEGORIES-LOADING",payload:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()),c(function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"SET-REGIONS-LOADING",payload:!0}),t({type:"SET-REGIONS-LOADING-ERROR",payload:null}),e.next=5,fetch("".concat(h,"/region"));case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,t({type:"FETCH-REGIONS",payload:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"SET-REGIONS-LOADING-ERROR",payload:e.t0.message});case 15:return e.prev=15,t({type:"SET-REGIONS-LOADING",payload:!1}),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement(i.A,{activePanel:"main"},r.a.createElement(p,{id:"main",activeTab:a,setActiveTab:l},s))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(19),G=a(46),C=a(47),L=a(7),x={data:[],error:null,loading:!1},N={data:[],error:null,loading:!1},D=a(48),k={data:[],error:null,loading:!1},F={data:[],error:null,loading:!1},W={data:[],error:null,loading:!1},z=Object(A.combineReducers)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH-CATEGORIES":return Object(L.a)({},e,{data:n});case"SET-CATEGORIES-LOADING":return Object(L.a)({},e,{loading:n});case"SET-CATEGORIES-LOADING-ERROR":return Object(L.a)({},e,{error:n});default:return e}},regions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH-REGIONS":return Object(L.a)({},e,{data:n});case"SET-REGIONS-LOADING":return Object(L.a)({},e,{loading:n});case"SET-REGIONS-LOADING-ERROR":return Object(L.a)({},e,{error:n});default:return e}},cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH-CITIES":return Object(L.a)({},e,{data:n});case"SET-CITIES-LOADING":return Object(L.a)({},e,{loading:n});case"SET-CITIES-LOADING-ERROR":return Object(L.a)({},e,{error:n});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH-NEWS":return Object(L.a)({},e,{data:n});case"SET-NEWS-LOADING":return Object(L.a)({},e,{loading:n});case"SET-NEWS-LOADING-ERROR":return Object(L.a)({},e,{error:n});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CREATE-FILTER":return Object(L.a)({},e,{data:[].concat(Object(D.a)(e.data),[n])});case"FETCH-FILTERS":return Object(L.a)({},e,{data:n});case"SET-FILTERS-LOADING":return Object(L.a)({},e,{loading:n});case"SET-FILTERS-LOADING-ERROR":return Object(L.a)({},e,{error:n});default:return e}}}),H=Object(A.createStore)(z,Object(C.composeWithDevTools)(Object(A.applyMiddleware)(G.a)));c.a.render(r.a.createElement(u.a,{store:H},r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.9e78289d.chunk.js.map